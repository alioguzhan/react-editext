{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/utils.ts","../src/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export function classnames(...args: any[]) {\n  /**\n   * Our simple classnames replica.\n   * This is enough for me.\n   */\n  return Array(...args)\n    .filter((a) => a)\n    .join(' ');\n}\n\nexport const dataAttributes = {\n  /**\n   * This is for the end user. You can use below attributes if you want to\n   * style this component with `styled-components` or something like that.\n   * Example notation:\n   * <div class=\"EdiText_Buttons__container_34fgAsdf\" editext=\"button-container\">\n   * Example usage with styled-components:\n\n    const StyledEdiText = styled(EdiText)`\n      button[editext=\"edit-button\"] {\n        color: #000;\n      }\n      button[editext=\"save-button\"] {\n        background:#587C0C;\n        color: #fff;\n      }\n      input, textarea {\n        background: #1D2225;\n        color: #F4C361;\n        font-weight: bold;\n      }\n    `\n   */\n  mainContainer: 'main-container',\n  viewContainer: 'view-container',\n  buttonContainer: 'button-container',\n  editContainer: 'edit-container',\n  validationContainer: 'validation-container',\n  editButton: 'edit-button',\n  saveButton: 'save-button',\n  cancelButton: 'cancel-button',\n  input: 'input',\n  hint: 'hint',\n};\n\nexport const cancelOnConflictMessage =\n  'EdiText: Both `cancelOnUnfocus` and `submitOnUnfocus` are set to true. ' +\n  '`submitOnUnfocus` is ignored in this case. Please remove one of these.';\n\nexport const defaultValidationMessage = 'Invalid Value';\n\nexport function getCanEdit(\n  canEdit: boolean | (() => boolean) | undefined\n): boolean {\n  if (canEdit === undefined) {\n    return true;\n  }\n  return typeof canEdit === 'function' ? canEdit() : canEdit;\n}\n","/* eslint-disable react/prop-types */\nimport React, {\n  ChangeEvent,\n  FocusEvent,\n  KeyboardEvent,\n  useEffect,\n  useState,\n} from 'react';\nimport styles from './styles.module.css';\nimport {\n  cancelOnConflictMessage,\n  classnames,\n  dataAttributes,\n  defaultValidationMessage,\n  getCanEdit,\n} from './utils';\n\nexport type EdiTextType =\n  | 'text'\n  | 'textarea'\n  | 'email'\n  | 'number'\n  | 'date'\n  | 'datetime-local'\n  | 'time'\n  | 'month'\n  | 'url'\n  | 'week'\n  | 'tel';\n\nexport type ButtonsAlignment = 'after' | 'before';\n\nexport type InputProps =\n  | React.DetailedHTMLProps<\n      React.InputHTMLAttributes<HTMLInputElement>,\n      HTMLInputElement\n    >\n  | React.DetailedHTMLProps<\n      React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n      HTMLTextAreaElement\n    >;\nexport interface EdiTextProps {\n  /**\n   * Props to be passed to input element.\n   * Any kind of valid DOM attributes are welcome\n   */\n  inputProps?: InputProps;\n  /**\n   * Props to be passed to div element that shows the text.\n   * You can specify your own `styles` or `className`\n   */\n  viewProps?: React.DetailedHTMLProps<\n    React.HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n  >;\n  /**\n   * Props to be passed to edit button.\n   * You can set `styles`, `className or disabled state.\n   */\n  editButtonProps?: React.DetailedHTMLProps<\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    HTMLButtonElement\n  >;\n  /**\n   * Class name for the root container of the EdiText.\n   */\n  className?: string;\n  /**\n   * Props to be passed to div element that is container for all elements.\n   * You can use this if you want to style or select the whole container.\n   */\n  containerProps?: React.DetailedHTMLProps<\n    React.HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n  >;\n  /**\n   * Value of the content [in view mode] and input [in edit mode]\n   */\n  value: string;\n  /**\n   * A simple hint message appears at the bottom of input element.\n   * Any valid element is allowed.\n   */\n  hint?: React.ReactNode;\n  /**\n   * If validation fails this message will appear\n   */\n  validationMessage?: any;\n  /** Pass your own validation function.\n   * takes one param -> `value`.\n   * It must return `true` or `false`\n   */\n  validation?: (...args: string[]) => boolean | Promise<boolean>;\n  /**\n   * will be called when validation fails.\n   * takes one param <value> which is the current value of input\n   */\n  onValidationFail?: (...args: string[]) => any;\n  /**\n   * Input type. Possible options are:\n   * `text`, `number`, `email`, `textarea`, `date`,\n   * `datetime-local`, `time`, `month`, `url`, `week`, `tel`\n   * @default \"text\"\n   */\n  type?: EdiTextType;\n  /**\n   * will be called when user clicked cancel button\n   * @param value the current value of input when cancelled.\n   * @param inputProps inputProps that passed to the element.\n   */\n  onCancel?: (value: any, inputProps?: InputProps) => any;\n  /**\n   * will be called when user clicked save button.\n   * @param value the current value of input\n   * @param inputProps inputProps that passed to the element.\n   */\n  onSave: (value: any, inputProps?: InputProps) => any;\n  /**\n   * Custom class name for SAVE button.\n   * */\n  saveButtonClassName?: string;\n  /**\n   * Custom class name for EDIT button.\n   * */\n  editButtonClassName?: string;\n  /**\n   * Custom class name for CANCEL button. */\n  cancelButtonClassName?: string;\n  /**\n   * Content for CANCEL button. Any valid element and node are allowed. */\n  cancelButtonContent?: any;\n  /**\n   * Content for SAVE button. Any valid element and node are allowed. */\n  saveButtonContent?: any;\n  /**\n   * Content for EDIT button. Any valid element and node are allowed. */\n  editButtonContent?: any;\n  /**\n   * Set it to `true` if you don't want to see default icons\n   * on action buttons.See Examples page for more details.\n   * @default \"false\"\n   */\n  hideIcons?: boolean;\n  /**\n   * Decides whether buttons will be located _BEFORE_ or _AFTER_\n   * the input element.\n   * @default \"after\"\n   */\n  buttonsAlign?: ButtonsAlignment;\n  /**\n   * Custom class name for the container in view mode.\n   */\n  viewContainerClassName?: string;\n  /**\n   * Custom class name for the container in edit mode.\n   * Will be set to viewContainerClassName if you set it and omit this.\n   */\n  editContainerClassName?: string;\n  /**\n   * Custom class name for the top-level main container.\n   * @deprecated please use `containerProps` instead of this\n   */\n  mainContainerClassName?: string;\n  /**\n   * Set it to `true` if you want clicking on the view to activate the editor.\n   * @default false\n   */\n  editOnViewClick?: boolean;\n  /**\n   * Set it to `true` if you want the view state to be edit mode\n   * @default false\n   */\n  editing?: boolean;\n  /**\n   * control function that will be called when user clicks on the edit button.\n   * return false to prevent editing or return true to allow editing.\n   */\n  canEdit?: boolean | (() => boolean);\n  /**\n   * Will be called when the editing mode is active.\n   *\n   * @param value the value of the input at the time when editing started.\n   * @param inputProps inputProps that passed to the element.\n   */\n  onEditingStart?: (value: any, inputProps?: InputProps) => any;\n  /**\n   * Set it to `true` if you want to display action buttons **only**\n   * when the text hovered by the user.\n   * @default false\n   */\n  showButtonsOnHover?: boolean;\n  /**\n   * Set it to `true` if you want to submit the form when `Enter`\n   * is pressed.\n   * @default false\n   */\n  submitOnEnter?: boolean;\n  /**\n   * Set it to `true` if you want to cancel the form when `Escape`\n   * is pressed.\n   * @default false\n   */\n  cancelOnEscape?: boolean;\n  /**\n   * Set it to `true` if you want to cancel the form when the input\n   * is unfocused.\n   * @default false\n   */\n  cancelOnUnfocus?: boolean;\n  /**\n   * Set it to `true` if you want to save the form when the input\n   * is unfocused.\n   * @default false\n   */\n  submitOnUnfocus?: boolean;\n  /**\n   * An helper shortcut in case you want to pass the same tabIndex to both\n   * `viewProps` and `inputProps`.\n   *\n   * NOTE: This will be overriden if you pass the tabIndex in `viewProps`\n   * or `inputProps`.\n   */\n  tabIndex?: number;\n  /**\n   * Activates the edit mode when the view container is in focus.\n   */\n  startEditingOnFocus?: boolean;\n  /**\n   * Activates the edit mode when the `Enter` key is pressed if the view\n   * container is focused.\n   *\n   * NOTE: This requires the element to be in focus.\n   */\n  startEditingOnEnter?: boolean;\n  /**\n   * Custom render method for the content in the view mode.\n   * Use this prop to customize the displayed value in view mode.\n   * The return value from this function will be rendered in view mode.\n   * You can return string or JSX. Both are allowed.\n   */\n  renderValue?: (value: any) => any;\n}\n\nfunction EdiText(props: EdiTextProps) {\n  // state\n  const [editingInternal, setEditingInternal] = useState(props.editing);\n  const [valid, setValid] = useState<boolean>(true);\n  const [valueInternal, setValueInternal] = useState<string>(props.value || '');\n  const [savedValue, setSavedValue] = useState<string | undefined>(undefined);\n  const [viewFocused, setViewFocused] = useState<boolean>(false);\n  // refs\n  const saveButton = React.createRef<HTMLButtonElement>();\n  const editingContainer = React.createRef<HTMLDivElement>();\n  const editingButtons = React.createRef<any>();\n\n  useEffect(() => {\n    if (props.cancelOnUnfocus && props.submitOnUnfocus) {\n      console.warn(cancelOnConflictMessage);\n    }\n  }, [props.cancelOnUnfocus, props.submitOnUnfocus]);\n\n  useEffect(() => {\n    if (props.value !== undefined) {\n      setValueInternal(props.value);\n      setSavedValue(props.value);\n    }\n\n    if (props.editing !== undefined) {\n      setEditingInternal(props.editing);\n    }\n  }, [props.editing, props.value]);\n\n  function handleKeyDown(e: KeyboardEvent<any>): void {\n    const isEnter = [13, 'Enter'].some((c) => e.key === c || e.code === c);\n    const isEscape = [27, 'Escape', 'Esc'].some(\n      (c) => e.code === c || e.key === c\n    );\n    if (isEnter) {\n      props.submitOnEnter && handleSave();\n      e?.preventDefault();\n    }\n    if (isEscape) {\n      props.cancelOnEscape && handleCancel();\n      e.preventDefault();\n    }\n    props.inputProps?.onKeyDown && props.inputProps.onKeyDown(e);\n  }\n\n  function handleOnBlur(e: FocusEvent<any>): void {\n    const isEditingButton = editingButtons.current?.contains(e?.relatedTarget);\n    props.cancelOnUnfocus && !isEditingButton && handleCancel();\n    props.submitOnUnfocus &&\n      !isEditingButton &&\n      !props.cancelOnUnfocus &&\n      handleSave();\n    props.inputProps?.onBlur && props.inputProps.onBlur(e);\n  }\n\n  function handleViewFocus(e: FocusEvent<HTMLDivElement>): void {\n    setViewFocused(true);\n    props.startEditingOnFocus && setEditingInternal(true);\n    props.viewProps?.onFocus && props.viewProps.onFocus(e);\n  }\n\n  function handleKeyDownForView(e: KeyboardEvent<any>): void {\n    const isEnter = [13, 'Enter'].some((c) => e.key === c || e.code === c);\n    const startEditing = isEnter && viewFocused && props.startEditingOnEnter;\n    startEditing && e.preventDefault();\n    startEditing && setEditingInternal(true);\n    props.viewProps?.onKeyDown && props.viewProps.onKeyDown(e);\n  }\n\n  function handleInputChange(\n    e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ): void {\n    setValid(true);\n    setValueInternal(e.target.value);\n    props.inputProps?.onChange?.(e as any);\n  }\n\n  function handleCancel(): void {\n    const val = savedValue ?? props.value;\n    setValid(true);\n    setEditingInternal(false);\n    setValueInternal(val);\n    props.onCancel?.(val, props.inputProps);\n  }\n\n  function handleActivateEditMode(): void {\n    if (getCanEdit(props.canEdit)) {\n      setEditingInternal(true);\n      props.onEditingStart?.(valueInternal, props.inputProps);\n    }\n  }\n\n  async function handleSave(): Promise<void> {\n    if (typeof props.validation === 'function') {\n      const isValid = await props.validation(valueInternal);\n      if (!isValid) {\n        setValid(false);\n        await props.onValidationFail?.(valueInternal);\n        return;\n      }\n    }\n    setEditingInternal(false);\n    setSavedValue(valueInternal);\n    props.onSave(valueInternal, props.inputProps);\n  }\n\n  function _renderInput() {\n    if (props.type === 'textarea') {\n      return (\n        <textarea\n          className={styles.Editext__input}\n          // @ts-ignore\n          editext={dataAttributes.input}\n          // this is here because,\n          // we still allow people to pass the tabIndex via inputProps\n          // also backward compatibility.\n          tabIndex={props.tabIndex}\n          {...(props.inputProps as React.DetailedHTMLProps<\n            React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n            HTMLTextAreaElement\n          >)}\n          onBlur={handleOnBlur}\n          value={valueInternal}\n          onChange={handleInputChange}\n          autoFocus={editingInternal}\n        />\n      );\n    } else {\n      return (\n        <input\n          className={styles.Editext__input}\n          // @ts-ignore\n          editext={dataAttributes.input}\n          // this is here because,\n          // we still allow people to pass the tabIndex via inputProps\n          // also backward compatibility.\n          tabIndex={props.tabIndex}\n          {...props.inputProps}\n          onKeyDown={handleKeyDown}\n          onBlur={handleOnBlur}\n          value={valueInternal}\n          type={props.type || 'text'}\n          onChange={handleInputChange}\n          autoFocus={editingInternal}\n        />\n      );\n    }\n  }\n\n  function _renderEditingMode() {\n    const inputElem = _renderInput();\n    // calculate save button classes\n    const saveButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__save_button}`,\n      props.hideIcons && `${styles.Editext__hide_default_icons}`\n    );\n    const saveButtonClass =\n      props.saveButtonClassName || saveButtonDefaultClasses;\n    // calculate cancel button classes\n    const cancelButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__cancel_button}`,\n      props.hideIcons && `${styles.Editext__hide_default_icons}`\n    );\n    const cancelButtonClass =\n      props.cancelButtonClassName || cancelButtonDefaultClasses;\n    let editContainerClass = styles.Editext__editing_container;\n    if (props.editContainerClassName)\n      editContainerClass = props.editContainerClassName;\n    if (props.viewContainerClassName)\n      editContainerClass = props.viewContainerClassName;\n\n    const alignment = props.buttonsAlign || 'after';\n    const buttonsContainerClass = classnames(\n      styles.Editext__buttons_container,\n      alignment === 'before' && `${styles.Editext__buttons_before_aligned}`,\n      alignment === 'after' && `${styles.Editext__buttons_after_aligned}`\n    );\n    return (\n      <div>\n        <div\n          ref={editingContainer}\n          className={editContainerClass}\n          // @ts-ignore\n          editext={dataAttributes.editContainer}\n        >\n          {alignment === 'after' && inputElem}\n          <div className={buttonsContainerClass} ref={editingButtons}>\n            <button\n              ref={saveButton}\n              // @ts-ignore\n              editext={dataAttributes.saveButton}\n              type=\"button\"\n              className={saveButtonClass}\n              onClick={handleSave}\n            >\n              {props.saveButtonContent}\n            </button>\n            <button\n              type=\"button\"\n              // @ts-ignore\n              editext={dataAttributes.cancelButton}\n              className={cancelButtonClass}\n              onClick={handleCancel}\n            >\n              {props.cancelButtonContent}\n            </button>\n          </div>\n          {alignment === 'before' && inputElem}\n        </div>\n        {!valid && !props.onValidationFail && (\n          <div\n            className={styles.Editext__validation_message}\n            // @ts-ignore\n            editext={dataAttributes.validationContainer}\n          >\n            {props.validationMessage || defaultValidationMessage}\n          </div>\n        )}\n        {props.hint && (\n          <div\n            className={styles.Editext__hint}\n            // @ts-ignore\n            editext={dataAttributes.hint}\n          >\n            {props.hint}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  function _renderViewMode() {\n    // calculate edit button classes\n    const editButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__edit_button}`,\n      props.hideIcons && `${styles.Editext__hide_default_icons}`\n    );\n    const editButtonClass =\n      props.editButtonClassName || editButtonDefaultClasses;\n    const viewContainerClass = classnames(\n      props.viewContainerClassName || styles.Editext__view_container,\n      props.showButtonsOnHover &&\n        `${styles.Editext__buttons_showButtonsOnHover}`\n    );\n    const alignment = props.buttonsAlign || 'after';\n    const buttonsContainerClass = classnames(\n      styles.Editext__buttons_container,\n      alignment === 'before' && `${styles.Editext__buttons_before_aligned}`,\n      alignment === 'after' && `${styles.Editext__buttons_after_aligned}`\n    );\n    const viewClickHandler = props.editOnViewClick\n      ? handleActivateEditMode\n      : undefined;\n    const _value =\n      typeof props.renderValue === 'function'\n        ? props.renderValue(valueInternal)\n        : valueInternal;\n    return (\n      <div\n        className={viewContainerClass}\n        // @ts-ignore\n        editext={dataAttributes.viewContainer}\n      >\n        {alignment === 'after' && (\n          <div\n            // this is here because,\n            // we still allow people to pass the tabIndex via inputProps\n            // also backward compatibility.\n            tabIndex={props.tabIndex}\n            {...props.viewProps}\n            onKeyDown={handleKeyDownForView}\n            onFocus={handleViewFocus}\n            onClick={viewClickHandler}\n            // @ts-ignore\n            editext=\"view\"\n          >\n            {_value}\n          </div>\n        )}\n        <div className={buttonsContainerClass}>\n          <button\n            type=\"button\"\n            className={editButtonClass}\n            {...props.editButtonProps}\n            // @ts-ignore\n            editext={dataAttributes.editButton}\n            onClick={handleActivateEditMode}\n          >\n            {props.editButtonContent}\n          </button>\n        </div>\n        {alignment === 'before' && (\n          <div\n            // this is here because,\n            // we still allow people to pass the tabIndex via inputProps\n            // also backward compatibility.\n            tabIndex={props.tabIndex}\n            {...props.viewProps}\n            onKeyDown={handleKeyDownForView}\n            onFocus={handleViewFocus}\n            onClick={viewClickHandler}\n            // @ts-ignore\n            editext={dataAttributes.viewContainer}\n          >\n            {_value}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  const mode = editingInternal ? _renderEditingMode() : _renderViewMode();\n  const clsName = classnames(\n    props.containerProps?.className ||\n      props.mainContainerClassName ||\n      styles.Editext__main_container,\n    props.className\n  );\n  return (\n    <div\n      {...props.containerProps}\n      className={clsName}\n      // @ts-ignore\n      editext={dataAttributes.mainContainer}\n    >\n      {mode}\n    </div>\n  );\n}\n\nexport default EdiText;\n"],"names":["useState","useEffect"],"mappings":"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","x_google_ignoreList":[0]}