"use strict";var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),o=function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function i(e,t,n,o){return new(n||(n=Promise))((function(i,a){function l(e){try{r(o.next(e))}catch(e){a(e)}}function s(e){try{r(o.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,s)}r((o=o.apply(e,t||[])).next())}))}function a(e,t){var n,o,i,a,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,o=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){l.label=a[1];break}if(6===a[0]&&l.label<i[1]){l.label=i[1],i=a;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(a);break}i[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var l="styles-module_Editext__button__sxYQX",s="styles-module_Editext__input__2-M50",r="styles-module_Editext__main_container__2azCD",u="styles-module_Editext__editing_container__1C4d6",d="styles-module_Editext__view_container__3oSYx",c="styles-module_Editext__buttons_container__2za5Q",_="styles-module_Editext__buttons_showButtonsOnHover__2Bfsd",f="styles-module_Editext__buttons_before_aligned__3Eg6w",m="styles-module_Editext__buttons_after_aligned__2ZHQz",v="styles-module_Editext__validation_message__1puii",p="styles-module_Editext__cancel_button__26sqr",x="styles-module_Editext__edit_button__310_J",b="styles-module_Editext__save_button__1Dlwo",y="styles-module_Editext__hide_default_icons__2k5RX",E="styles-module_Editext__hint__EGeV0";function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.apply(void 0,e).filter((function(e){return e})).join(" ")}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.styles-module_Editext__button__sxYQX {\n  border-radius: 1px;\n  outline: none;\n  padding: 0.6em;\n  min-width: 30px;\n  height: 100%;\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\n  border-style: solid;\n  border-width: 1px;\n}\n\n.styles-module_Editext__button__sxYQX:hover {\n  cursor: pointer;\n  background-color: rgba(241, 241, 241, 1);\n}\n\n.styles-module_Editext__input__2-M50 {\n  width: 100%;\n  border: 1px solid rgb(212, 212, 212);\n  padding: 0.6em;\n  outline: none;\n}\n\n.styles-module_Editext__main_container__2azCD {\n  display: flex;\n  flex-direction: column;\n}\n\n.styles-module_Editext__editing_container__1C4d6 {\n  display: flex;\n  flex: 1;\n  align-items: center;\n}\n\n.styles-module_Editext__view_container__3oSYx {\n  display: flex;\n  align-items: center;\n}\n\n.styles-module_Editext__buttons_container__2za5Q {\n  display: flex;\n}\n\n.styles-module_Editext__buttons_showButtonsOnHover__2Bfsd .styles-module_Editext__buttons_container__2za5Q {\n  visibility: hidden;\n}\n\n.styles-module_Editext__buttons_showButtonsOnHover__2Bfsd:hover .styles-module_Editext__buttons_container__2za5Q {\n  visibility: visible;\n}\n\n.styles-module_Editext__buttons_before_aligned__3Eg6w {\n  margin-right: 5px;\n}\n\n.styles-module_Editext__buttons_after_aligned__2ZHQz {\n  margin-left: 5px;\n}\n\n.styles-module_Editext__validation_message__1puii {\n  font-weight: 500;\n  color: crimson;\n  font-size: 0.7em;\n  margin-top: 3px;\n}\n\n.styles-module_Editext__cancel_button__26sqr {\n  color: crimson;\n}\n\n.styles-module_Editext__cancel_button__26sqr::before {\n  content: "\\2715";\n  margin: 3px;\n}\n\n.styles-module_Editext__edit_button__310_J {\n  color: #000;\n}\n\n.styles-module_Editext__edit_button__310_J::before {\n  content: "\\270E";\n  margin: 3px;\n}\n\n.styles-module_Editext__save_button__1Dlwo {\n  color: darkgreen;\n  margin-right: 3px;\n}\n\n.styles-module_Editext__save_button__1Dlwo::before {\n  content: "\\2713";\n  margin: 3px;\n}\n\n.styles-module_Editext__hide_default_icons__2k5RX::before {\n  content: none;\n  margin: 0;\n}\n\n.styles-module_Editext__hint__EGeV0 {\n  font-weight: 500;\n  color: lightslategray;\n  font-size: 0.7em;\n  margin-top: 3px;\n  text-align: left;\n}\n');var g="main-container",w="view-container",C="edit-container",N="validation-container",O="edit-button",P="save-button",B="cancel-button",k="input",D="hint";module.exports=function(t){var S,I=e.useState(t.editing),z=I[0],U=I[1],F=e.useState(!0),Q=F[0],V=F[1],K=e.useState(t.value||""),H=K[0],T=K[1],R=e.useState(void 0),X=R[0],Y=R[1],j=e.useState(!1),q=j[0],A=j[1],G=n.default.createRef(),J=n.default.createRef(),M=n.default.createRef();function Z(e){var n,o=[13,"Enter"].some((function(t){return e.key===t||e.code===t})),i=[27,"Escape","Esc"].some((function(t){return e.code===t||e.key===t}));o&&(t.submitOnEnter&&oe(),null==e||e.preventDefault()),i&&(t.cancelOnEscape&&te(),e.preventDefault()),(null===(n=t.inputProps)||void 0===n?void 0:n.onKeyDown)&&t.inputProps.onKeyDown(e)}function L(e){var n,o,i=null===(n=M.current)||void 0===n?void 0:n.contains(null==e?void 0:e.relatedTarget);t.cancelOnUnfocus&&!i&&te(),t.submitOnUnfocus&&!i&&!t.cancelOnUnfocus&&oe(),(null===(o=t.inputProps)||void 0===o?void 0:o.onBlur)&&t.inputProps.onBlur(e)}function W(e){var n;A(!0),t.startEditingOnFocus&&U(!0),(null===(n=t.viewProps)||void 0===n?void 0:n.onFocus)&&t.viewProps.onFocus(e)}function $(e){var n,o=[13,"Enter"].some((function(t){return e.key===t||e.code===t}))&&q&&t.startEditingOnEnter;o&&e.preventDefault(),o&&U(!0),(null===(n=t.viewProps)||void 0===n?void 0:n.onKeyDown)&&t.viewProps.onKeyDown(e)}function ee(e){var n,o;V(!0),T(e.target.value),null===(o=null===(n=t.inputProps)||void 0===n?void 0:n.onChange)||void 0===o||o.call(n,e)}function te(){var e,n=null!=X?X:t.value;V(!0),U(!1),T(n),null===(e=t.onCancel)||void 0===e||e.call(t,n,t.inputProps)}function ne(){var e,n;(void 0===(n=t.canEdit)||("function"==typeof n?n():n))&&(U(!0),null===(e=t.onEditingStart)||void 0===e||e.call(t,H,t.inputProps))}function oe(){var e;return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return"function"!=typeof t.validation?[3,3]:[4,t.validation(H)];case 1:return n.sent()?[3,3]:(V(!1),[4,null===(e=t.onValidationFail)||void 0===e?void 0:e.call(t,H)]);case 2:return n.sent(),[2];case 3:return U(!1),Y(H),t.onSave(H,t.inputProps),[2]}}))}))}e.useEffect((function(){t.cancelOnUnfocus&&t.submitOnUnfocus&&console.warn("EdiText: Both `cancelOnUnfocus` and `submitOnUnfocus` are set to true. `submitOnUnfocus` is ignored in this case. Please remove one of these.")}),[t.cancelOnUnfocus,t.submitOnUnfocus]),e.useEffect((function(){void 0!==t.value&&(T(t.value),Y(t.value)),void 0!==t.editing&&U(t.editing)}),[t.editing,t.value]);var ie,ae,le,se,re,ue,de,ce=z?function(){var e="textarea"===t.type?n.default.createElement("textarea",o({className:s,editext:k,tabIndex:t.tabIndex},t.inputProps,{onBlur:L,value:H,onChange:ee,autoFocus:z})):n.default.createElement("input",o({className:s,editext:k,tabIndex:t.tabIndex},t.inputProps,{onKeyDown:Z,onBlur:L,value:H,type:t.type||"text",onChange:ee,autoFocus:z})),i=h("".concat(l),"".concat(b),t.hideIcons&&"".concat(y)),a=t.saveButtonClassName||i,r=h("".concat(l),"".concat(p),t.hideIcons&&"".concat(y)),d=t.cancelButtonClassName||r,_=u;t.editContainerClassName&&(_=t.editContainerClassName),t.viewContainerClassName&&(_=t.viewContainerClassName);var x=t.buttonsAlign||"after",g=h(c,"before"===x&&"".concat(f),"after"===x&&"".concat(m));return n.default.createElement("div",null,n.default.createElement("div",{ref:J,className:_,editext:C},"after"===x&&e,n.default.createElement("div",{className:g,ref:M},n.default.createElement("button",{ref:G,editext:P,type:"button",className:a,onClick:oe},t.saveButtonContent),n.default.createElement("button",{type:"button",editext:B,className:d,onClick:te},t.cancelButtonContent)),"before"===x&&e),!Q&&!t.onValidationFail&&n.default.createElement("div",{className:v,editext:N},t.validationMessage||"Invalid Value"),t.hint&&n.default.createElement("div",{className:E,editext:D},t.hint))}():(ie=h("".concat(l),"".concat(x),t.hideIcons&&"".concat(y)),ae=t.editButtonClassName||ie,le=h(t.viewContainerClassName||d,t.showButtonsOnHover&&"".concat(_)),se=t.buttonsAlign||"after",re=h(c,"before"===se&&"".concat(f),"after"===se&&"".concat(m)),ue=t.editOnViewClick?ne:void 0,de="function"==typeof t.renderValue?t.renderValue(H):H,n.default.createElement("div",{className:le,editext:w},"after"===se&&n.default.createElement("div",o({tabIndex:t.tabIndex},t.viewProps,{onKeyDown:$,onFocus:W,onClick:ue,editext:"view"}),de),n.default.createElement("div",{className:re},n.default.createElement("button",o({type:"button",className:ae},t.editButtonProps,{editext:O,onClick:ne}),t.editButtonContent)),"before"===se&&n.default.createElement("div",o({tabIndex:t.tabIndex},t.viewProps,{onKeyDown:$,onFocus:W,onClick:ue,editext:w}),de))),_e=h((null===(S=t.containerProps)||void 0===S?void 0:S.className)||t.mainContainerClassName||r,t.className);return n.default.createElement("div",o({},t.containerProps,{className:_e,editext:g}),ce)};
//# sourceMappingURL=index.min.js.map
