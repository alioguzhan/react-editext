"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var e=require("react"),n=t(e),o=t(require("prop-types"));function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}var _="styles_Editext__button__6H8n_",p="styles_Editext__input__1534X",f="styles_Editext__main_container__2Y-IL",v="styles_Editext__editing_container__3yvUv",h="styles_Editext__view_container__2l2kB",y="styles_Editext__buttons_container__1kphL",b="styles_Editext__buttons_showButtonsOnHover__EUUD5",g="styles_Editext__buttons_before_aligned__NnoWq",m="styles_Editext__buttons_after_aligned__1nlcG",x="styles_Editext__validation_message__3B-OU",E="styles_Editext__cancel_button__259hb",w="styles_Editext__edit_button__hthOZ",C="styles_Editext__save_button__3WN6q",O="styles_Editext__hide_default_icons__AV_7m",B="styles_Editext__hint__2QU2S";function N(){return Array.apply(void 0,arguments).filter((function(t){return t})).join(" ")}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}('.styles_Editext__button__6H8n_ {\n  border-radius: 1px;\n  outline: none;\n  padding: 0.6em;\n  min-width: 30px;\n  height: 100%;\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\n  border-style: solid;\n  border-width: 1px;\n}\n\n.styles_Editext__button__6H8n_:hover {\n  cursor: pointer;\n  background-color: rgba(241, 241, 241, 1);\n}\n\n.styles_Editext__input__1534X {\n  width: 100%;\n  border: 1px solid rgb(212, 212, 212);\n  padding: 0.6em;\n  outline: none;\n}\n\n.styles_Editext__main_container__2Y-IL {\n  display: flex;\n  flex-direction: column;\n}\n\n.styles_Editext__editing_container__3yvUv {\n  display: flex;\n  flex: 1;\n  align-items: center;\n}\n\n.styles_Editext__view_container__2l2kB {\n  display: flex;\n  align-items: center;\n}\n\n.styles_Editext__buttons_container__1kphL {\n  display: flex;\n}\n\n.styles_Editext__buttons_showButtonsOnHover__EUUD5 .styles_Editext__buttons_container__1kphL {\n  visibility: hidden;\n}\n\n.styles_Editext__buttons_showButtonsOnHover__EUUD5:hover .styles_Editext__buttons_container__1kphL {\n  visibility: visible;\n}\n\n.styles_Editext__buttons_before_aligned__NnoWq {\n  margin-right: 5px;\n}\n\n.styles_Editext__buttons_after_aligned__1nlcG {\n  margin-left: 5px;\n}\n\n.styles_Editext__validation_message__3B-OU {\n  font-weight: 500;\n  color: crimson;\n  font-size: 0.7em;\n  margin-top: 3px;\n}\n\n.styles_Editext__cancel_button__259hb {\n  color: crimson;\n}\n\n.styles_Editext__cancel_button__259hb:before {\n  content: "\\2715";\n  margin: 3px;\n}\n\n.styles_Editext__edit_button__hthOZ {\n  color: #000;\n}\n\n.styles_Editext__edit_button__hthOZ:before {\n  content: "\\270E";\n  margin: 3px;\n}\n\n.styles_Editext__save_button__3WN6q {\n  color: darkgreen;\n  margin-right: 3px;\n}\n\n.styles_Editext__save_button__3WN6q:before {\n  content: "\\2713";\n  margin: 3px;\n}\n\n.styles_Editext__hide_default_icons__AV_7m:before {\n  content: none;\n  margin: 0;\n}\n\n.styles_Editext__hint__2QU2S {\n  font-weight: 500;\n  color: lightslategray;\n  font-size: 0.7em;\n  margin-top: 3px;\n  text-align: left;\n}\n');var k="view-container",P="edit-container",D="edit-button",S="save-button",F="cancel-button",U="input",I="hint",V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(A,e.Component);var o,V,j,K,R=(o=A,function(){var t,e=r(o);if(c()){var n=r(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function A(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A),a(u(e=R.call(this,t)),"handleKeyDown",(function(t){var n=e.props,o=n.submitOnEnter,i=n.inputProps,a=n.cancelOnEscape,s=[13,"Enter"].some((function(e){return t.keyCode===e||t.code===e})),r=[27,"Escape","Esc"].some((function(e){return t.keyCode===e||t.code===e}));s&&(o&&e.handleSave(),t.preventDefault()),r&&(a&&e.handleCancel(),t.preventDefault()),i.onKeyDown&&i.onKeyDown(t)})),a(u(e),"handleOnBlur",(function(t){var n=e.props,o=n.cancelOnUnfocus,i=n.submitOnUnfocus,a=n.inputProps,s=e.editingButtons.current.contains(t.relatedTarget);o&&!s&&e.handleCancel(),i&&!s&&!o&&e.handleSave(),a.onBlur&&a.onBlur(t)})),a(u(e),"handleViewFocus",(function(t){e.setState({viewFocused:!0});var n=e.props,o=n.startEditingOnFocus,i=n.viewProps;o&&e.setState({editing:!0}),i.onFocus&&i.onFocus(t)})),a(u(e),"handleKeyDownForView",(function(t){var n=[13,"Enter"].some((function(e){return t.keyCode===e||t.code===e})),o=e.props,i=o.startEditingOnEnter,a=o.viewProps,s=n&&e.state.viewFocused&&i;s&&t.preventDefault(),s&&e.setState({editing:!0}),a.onKeyDown&&a.onKeyDown(t)})),a(u(e),"handleInputChange",(function(t){e.setState({valid:!0,value:t.target.value})})),a(u(e),"handleCancel",(function(){e.setState({valid:!0,editing:!1,value:e.state.savedValue||e.props.value},(function(){return e.props.onCancel(e.state.value,e.props.inputProps)}))})),a(u(e),"handleActivateEditMode",(function(){e.setState({editing:!0},(function(){e.props.onEditingStart(e.state.value)}))})),a(u(e),"handleSave",(function(){var t=e.props,n=t.onSave,o=t.validation,i=t.onValidationFail,a=t.inputProps;if(!o(e.state.value))return e.setState({valid:!1},(function(){i&&i(e.state.value)}));e.setState({editing:!1,savedValue:e.state.value},(function(){return n(e.state.savedValue,a)}))})),a(u(e),"_renderEditingMode",(function(){var t=e.props,o=t.saveButtonClassName,i=t.saveButtonContent,a=t.cancelButtonClassName,s=t.editContainerClassName,r=t.viewContainerClassName,l=t.cancelButtonContent,c=t.onValidationFail,u=t.validationMessage,d=t.hint,p=t.hideIcons,f=t.buttonsAlign,h=e._renderInput(),b=N("".concat(_),"".concat(C),p&&"".concat(O)),w=o||b,k=N("".concat(_),"".concat(E),p&&"".concat(O)),D=a||k,U=v;s&&(U=s),r&&(U=r);var V=N(y,"before"===f&&"".concat(g),"after"===f&&"".concat(m));return n.createElement("div",null,n.createElement("div",{ref:e.editingContainer,className:U,editext:P},"after"===f&&h,n.createElement("div",{className:V,ref:e.editingButtons},n.createElement("button",{ref:e.saveButton,editext:S,type:"button",className:w,onClick:e.handleSave},i),n.createElement("button",{type:"button",editext:F,className:D,onClick:e.handleCancel},l)),"before"===f&&h),!e.state.valid&&!c&&n.createElement("div",{className:x},u),d&&n.createElement("div",{className:B,editext:I},d))})),a(u(e),"_renderViewMode",(function(){var t=e.props,o=t.viewProps,i=t.editButtonClassName,a=t.editButtonContent,r=t.viewContainerClassName,l=t.hideIcons,c=t.buttonsAlign,u=t.editOnViewClick,d=t.showButtonsOnHover,p=N("".concat(_),"".concat(w),l&&"".concat(O)),f=i||p,v=N(r||h,d&&"".concat(b)),x=N(y,"before"===c&&"".concat(g),"after"===c&&"".concat(m)),E=u?e.handleActivateEditMode:void 0;return n.createElement("div",{className:v,editext:k},"after"===c&&n.createElement("div",s({tabIndex:e.props.tabIndex},o,{onKeyDown:e.handleKeyDownForView,onFocus:e.handleViewFocus,onClick:E,editext:"view"}),e.state.value),n.createElement("div",{className:x},n.createElement("button",{type:"button",editext:D,className:f,onClick:e.handleActivateEditMode},a)),"before"===c&&n.createElement("div",s({tabIndex:e.props.tabIndex},o,{onKeyDown:e.handleKeyDownForView,onFocus:e.handleViewFocus,onClick:E,editext:k}),e.state.value))})),e.state={editing:t.editing,valid:!0,value:t.value||"",savedValue:"",viewFocused:!1},e.saveButton=n.createRef(),e.input=n.createRef(),e.editingContainer=n.createRef(),e.editingButtons=n.createRef(),e}return V=A,(j=[{key:"componentDidMount",value:function(){this.checkPropsConsistency()}},{key:"checkPropsConsistency",value:function(){this.props.cancelOnUnfocus&&this.props.submitOnUnfocus&&console.warn("EdiText: Both `cancelOnUnfocus` and `submitOnUnfocus` are set to true. `submitOnUnfocus` is ignored in this case. Please remove one of these.")}},{key:"componentDidUpdate",value:function(t,e){var n={};void 0!==this.props.value&&t.value!==this.props.value&&(n.value=this.props.value),void 0!==t.editing&&t.editing!==this.props.editing&&(n.editing=this.props.editing),Object.keys(n).length>0&&this.setState(n)}},{key:"_renderInput",value:function(){return"textarea"===this.props.type?n.createElement("textarea",s({ref:this.input,className:p,editext:U,tabIndex:this.props.tabIndex},this.props.inputProps,{onBlur:this.handleOnBlur,value:this.state.value,onChange:this.handleInputChange,autoFocus:this.state.editing})):n.createElement("input",s({ref:this.input,className:p,editext:U,tabIndex:this.props.tabIndex},this.props.inputProps,{onKeyDown:this.handleKeyDown,onBlur:this.handleOnBlur,value:this.state.value,type:this.props.type,onChange:this.handleInputChange,autoFocus:this.state.editing}))}},{key:"render",value:function(){var t=this.state.editing?this._renderEditingMode():this._renderViewMode(),e=this.props,o=e.mainContainerClassName,i=e.className,a=N(o||f,i);return n.createElement("div",{className:a},t)}}])&&i(V.prototype,j),K&&i(V,K),A}();V.defaultProps={value:"",type:"text",validationMessage:"Invalid Value",validation:function(t){return!0},onEditingStart:function(t){return null},onCancel:function(t){return null},inputProps:{onKeyDown:function(t){},onBlur:function(t){},onFocus:function(t){}},viewProps:{onKeyDown:function(t){},onFocus:function(t){}},cancelButtonContent:"",saveButtonContent:"",editButtonContent:"",hideIcons:!1,buttonsAlign:"after",editing:!1},V.propTypes={inputProps:o.object,viewProps:o.object,value:o.string.isRequired,hint:o.node,validationMessage:o.node,validation:o.func,onValidationFail:o.func,type:o.oneOf(["text","textarea","password","email","number","date","datetime-local","time","month","url","week","tel"]).isRequired,onCancel:o.func,onSave:o.func.isRequired,onEditingStart:o.func,className:o.string,saveButtonClassName:o.string,editButtonClassName:o.string,cancelButtonClassName:o.string,mainContainerClassName:o.string,editContainerClassName:o.string,viewContainerClassName:o.string,cancelButtonContent:o.any,saveButtonContent:o.any,editButtonContent:o.any,hideIcons:o.bool,buttonsAlign:o.oneOf(["after","before"]),editOnViewClick:o.bool,editing:o.bool,showButtonsOnHover:o.bool,submitOnEnter:o.bool,cancelOnEscape:o.bool,cancelOnUnfocus:o.bool,submitOnUnfocus:o.bool,tabIndex:o.any,startEditingOnFocus:o.bool,startEditingOnEnter:o.bool},module.exports=V;
//# sourceMappingURL=index.min.js.map
