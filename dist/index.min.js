"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var e=require("react"),n=t(e),i=t(require("prop-types"));function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}var _="styles_Editext__button__6H8n_",p="styles_Editext__input__1534X",f="styles_Editext__main_container__2Y-IL",v="styles_Editext__editing_container__3yvUv",h="styles_Editext__view_container__2l2kB",y="styles_Editext__buttons_container__1kphL",b="styles_Editext__buttons_showButtonsOnHover__EUUD5",m="styles_Editext__buttons_before_aligned__NnoWq",g="styles_Editext__buttons_after_aligned__1nlcG",x="styles_Editext__validation_message__3B-OU",E="styles_Editext__cancel_button__259hb",C="styles_Editext__edit_button__hthOZ",O="styles_Editext__save_button__3WN6q",w="styles_Editext__hide_default_icons__AV_7m",B="styles_Editext__hint__2QU2S";function N(){return Array.apply(void 0,arguments).filter((function(t){return t})).join(" ")}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('.styles_Editext__button__6H8n_ {\n  border-radius: 1px;\n  outline: none;\n  padding: 0.6em;\n  min-width: 30px;\n  height: 100%;\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\n  border-style: solid;\n  border-width: 1px;\n}\n.styles_Editext__button__6H8n_:hover {\n  cursor: pointer;\n  background-color: rgba(241, 241, 241, 1);\n}\n.styles_Editext__input__1534X {\n  width: 100%;\n  border: 1px solid rgb(212, 212, 212);\n  padding: 0.6em;\n  outline: none;\n}\n.styles_Editext__main_container__2Y-IL {\n  display: flex;\n  flex-direction: column;\n}\n.styles_Editext__editing_container__3yvUv {\n  display: flex;\n  flex: 1;\n  align-items: center;\n}\n.styles_Editext__view_container__2l2kB {\n  display: flex;\n  align-items: center;\n}\n.styles_Editext__buttons_container__1kphL {\n  display: flex;\n}\n.styles_Editext__buttons_showButtonsOnHover__EUUD5 .styles_Editext__buttons_container__1kphL {\n  visibility: hidden;\n}\n.styles_Editext__buttons_showButtonsOnHover__EUUD5:hover .styles_Editext__buttons_container__1kphL {\n  visibility: visible;\n}\n.styles_Editext__buttons_before_aligned__NnoWq {\n  margin-right: 5px;\n}\n.styles_Editext__buttons_after_aligned__1nlcG {\n  margin-left: 5px;\n}\n.styles_Editext__validation_message__3B-OU {\n  font-weight: 500;\n  color: crimson;\n  font-size: 0.7em;\n  margin-top: 3px;\n}\n.styles_Editext__cancel_button__259hb {\n  color: crimson;\n}\n.styles_Editext__cancel_button__259hb:before {\n  content: "\\2715";\n  margin: 3px;\n}\n.styles_Editext__edit_button__hthOZ {\n  color: #000;\n}\n.styles_Editext__edit_button__hthOZ:before {\n  content: "\\270E";\n  margin: 3px;\n}\n.styles_Editext__save_button__3WN6q {\n  color: darkgreen;\n  margin-right: 3px;\n}\n.styles_Editext__save_button__3WN6q:before {\n  content: "\\2713";\n  margin: 3px;\n}\n.styles_Editext__hide_default_icons__AV_7m:before {\n  content: none;\n  margin: 0;\n}\n.styles_Editext__hint__2QU2S {\n  font-weight: 500;\n  color: lightslategray;\n  font-size: 0.7em;\n  margin-top: 3px;\n  text-align: left;\n}\n');var k="view-container",P="edit-container",U="edit-button",S="save-button",j="cancel-button",D="input",V="hint",R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(q,e.Component);var i,R,I,A,M=(i=q,function(){var t,e=r(i);if(c()){var n=r(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function q(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,q),a(u(e=M.call(this,t)),"handleKeyDown",(function(t){var n=e.props,i=n.submitOnEnter,o=n.inputProps,a=n.cancelOnEscape,s=[13,"Enter"].some((function(e){return t.keyCode===e||t.code===e})),r=[27,"Escape","Esc"].some((function(e){return t.keyCode===e||t.code===e}));s&&(i&&e.handleSave(),t.preventDefault()),r&&(a&&e.handleCancel(),t.preventDefault()),o.onKeyDown&&o.onKeyDown(t)})),a(u(e),"handleOnBlur",(function(t){var n=e.props,i=n.cancelOnUnfocus,o=n.submitOnUnfocus,a=n.inputProps,s=e.editingButtons.current.contains(t.relatedTarget);i&&!s&&e.handleCancel(),o&&!s&&!i&&e.handleSave(),a.onBlur&&a.onBlur(t)})),a(u(e),"handleInputChange",(function(t){e.setState({valid:!0,value:t.target.value})})),a(u(e),"handleCancel",(function(){e.setState({valid:!0,editing:!1,value:e.state.savedValue||e.props.value},(function(){return e.props.onCancel(e.state.value,e.props.inputProps)}))})),a(u(e),"handleActivateEditMode",(function(){e.setState({editing:!0},(function(){e.props.onEditingStart(e.state.value)}))})),a(u(e),"handleSave",(function(){var t=e.props,n=t.onSave,i=t.validation,o=t.onValidationFail,a=t.inputProps;if(!i(e.state.value))return e.setState({valid:!1},(function(){o&&o(e.state.value)}));e.setState({editing:!1,savedValue:e.state.value},(function(){return n(e.state.savedValue,a)}))})),a(u(e),"_renderEditingMode",(function(){var t=e.props,i=t.saveButtonClassName,o=t.saveButtonContent,a=t.cancelButtonClassName,s=t.editContainerClassName,r=t.viewContainerClassName,l=t.cancelButtonContent,c=t.onValidationFail,u=t.validationMessage,d=t.hint,p=t.hideIcons,f=t.buttonsAlign,h=e._renderInput(),b=N("".concat(_),"".concat(O),p&&"".concat(w)),C=i||b,k=N("".concat(_),"".concat(E),p&&"".concat(w)),U=a||k,D=v;s&&(D=s),r&&(D=r);var R=N(y,"before"===f&&"".concat(m),"after"===f&&"".concat(g));return n.createElement("div",null,n.createElement("div",{ref:e.editingContainer,className:D,editext:P},"after"===f&&h,n.createElement("div",{className:R,ref:e.editingButtons},n.createElement("button",{ref:e.saveButton,editext:S,type:"button",className:C,onClick:e.handleSave},o),n.createElement("button",{type:"button",editext:j,className:U,onClick:e.handleCancel},l)),"before"===f&&h),!e.state.valid&&!c&&n.createElement("div",{className:x},u),d&&n.createElement("div",{className:B,editext:V},d))})),a(u(e),"_renderViewMode",(function(){var t=e.props,i=t.viewProps,o=t.editButtonClassName,a=t.editButtonContent,r=t.viewContainerClassName,l=t.hideIcons,c=t.buttonsAlign,u=t.editOnViewClick,d=t.showButtonsOnHover,p=N("".concat(_),"".concat(C),l&&"".concat(w)),f=o||p,v=N(r||h,d&&"".concat(b)),x=N(y,"before"===c&&"".concat(m),"after"===c&&"".concat(g)),E=u?e.handleActivateEditMode:void 0;return n.createElement("div",{className:v,editext:k},"after"===c&&n.createElement("div",s({},i,{onClick:E,editext:"view"}),e.state.value),n.createElement("div",{className:x},n.createElement("button",{type:"button",editext:U,className:f,onClick:e.handleActivateEditMode},a)),"before"===c&&n.createElement("div",s({},i,{onClick:E,editext:k}),e.state.value))})),e.state={editing:t.editing,valid:!0,value:t.value||"",savedValue:""},e.saveButton=n.createRef(),e.input=n.createRef(),e.editingContainer=n.createRef(),e.editingButtons=n.createRef(),e}return R=q,(I=[{key:"componentDidMount",value:function(){this.checkPropsConsistency()}},{key:"checkPropsConsistency",value:function(){this.props.cancelOnUnfocus&&this.props.submitOnUnfocus&&console.warn("EdiText: Both `cancelOnUnfocus` and `submitOnUnfocus` are set to true. `submitOnUnfocus` is ignored in this case. Please remove one of these.")}},{key:"componentDidUpdate",value:function(t,e){var n={};void 0!==this.props.value&&t.value!==this.props.value&&(n.value=this.props.value),void 0!==t.editing&&t.editing!==this.props.editing&&(n.editing=this.props.editing),Object.keys(n).length>0&&this.setState(n)}},{key:"_renderInput",value:function(){return"textarea"===this.props.type?n.createElement("textarea",s({ref:this.input,className:p,editext:D},this.props.inputProps,{onBlur:this.handleOnBlur,value:this.state.value,onChange:this.handleInputChange,autoFocus:this.state.editing})):n.createElement("input",s({ref:this.input,className:p,editext:D},this.props.inputProps,{onKeyDown:this.handleKeyDown,onBlur:this.handleOnBlur,value:this.state.value,type:this.props.type,onChange:this.handleInputChange,autoFocus:this.state.editing}))}},{key:"render",value:function(){var t=this.state.editing?this._renderEditingMode():this._renderViewMode(),e=this.props,i=e.mainContainerClassName,o=e.className,a=N(i||f,o);return n.createElement("div",{className:a},t)}}])&&o(R.prototype,I),A&&o(R,A),q}();R.defaultProps={value:"",type:"text",validationMessage:"Invalid Value",validation:function(t){return!0},onEditingStart:function(t){return null},onCancel:function(t){return null},inputProps:{onKeyDown:function(t){},onBlur:function(t){}},viewProps:{},cancelButtonContent:"",saveButtonContent:"",editButtonContent:"",hideIcons:!1,buttonsAlign:"after",editing:!1},R.propTypes={inputProps:i.object,viewProps:i.object,value:i.string.isRequired,hint:i.node,validationMessage:i.node,validation:i.func,onValidationFail:i.func,type:i.oneOf(["text","textarea","password","email","number","date","datetime-local","time","month","url","week","tel"]).isRequired,onCancel:i.func,onSave:i.func.isRequired,onEditingStart:i.func,className:i.string,saveButtonClassName:i.string,editButtonClassName:i.string,cancelButtonClassName:i.string,mainContainerClassName:i.string,editContainerClassName:i.string,viewContainerClassName:i.string,cancelButtonContent:i.any,saveButtonContent:i.any,editButtonContent:i.any,hideIcons:i.bool,buttonsAlign:i.oneOf(["after","before"]),editOnViewClick:i.bool,editing:i.bool,showButtonsOnHover:i.bool,submitOnEnter:i.bool,cancelOnEscape:i.bool,cancelOnUnfocus:i.bool,submitOnUnfocus:i.bool},module.exports=R;
//# sourceMappingURL=index.min.js.map
