"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var e=require("react"),n=t(e),i=t(require("prop-types"));function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c="styles_Editext__button__6H8n_",_="styles_Editext__input__1534X",d="styles_Editext__main_container__2Y-IL",p="styles_Editext__editing_container__3yvUv",v="styles_Editext__view_container__2l2kB",f="styles_Editext__buttons_container__1kphL",h="styles_Editext__buttons_showButtonsOnHover__EUUD5",b="styles_Editext__buttons_before_aligned__NnoWq",y="styles_Editext__buttons_after_aligned__1nlcG",g="styles_Editext__validation_message__3B-OU",m="styles_Editext__cancel_button__259hb",x="styles_Editext__edit_button__hthOZ",E="styles_Editext__save_button__3WN6q",C="styles_Editext__hide_default_icons__AV_7m",w="styles_Editext__hint__2QU2S";function B(){return Array.apply(void 0,arguments).filter((function(t){return t})).join(" ")}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".styles_Editext__button__6H8n_ {\n  border-radius: 1px;\n  outline: none;\n  padding: 0.6em;\n  min-width: 30px;\n  height: 100%;\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\n  border-style: solid;\n  border-width: 1px;\n}\n.styles_Editext__button__6H8n_:hover {\n  cursor: pointer;\n  background-color: rgba(241, 241, 241, 1.00)\n}\n.styles_Editext__input__1534X {\n  width: 100%;\n  border: 1px solid rgb(212, 212, 212);\n  padding: 0.6em;\n  outline: none;\n}\n.styles_Editext__main_container__2Y-IL {\n  display: flex;\n  flex-direction: column;\n}\n.styles_Editext__editing_container__3yvUv {\n  display: flex;\n  flex: 1;\n  align-items: center;\n}\n.styles_Editext__view_container__2l2kB {\n  display: flex;\n  align-items: center;\n}\n.styles_Editext__buttons_container__1kphL {\n  display: flex;\n}\n.styles_Editext__buttons_showButtonsOnHover__EUUD5 .styles_Editext__buttons_container__1kphL {\n  visibility: hidden;\n}\n.styles_Editext__buttons_showButtonsOnHover__EUUD5:hover .styles_Editext__buttons_container__1kphL {\n  visibility: visible;\n}\n.styles_Editext__buttons_before_aligned__NnoWq {\n  margin-right: 5px;\n}\n.styles_Editext__buttons_after_aligned__1nlcG {\n  margin-left: 5px;\n}\n.styles_Editext__validation_message__3B-OU {\n  font-weight: 500;\n  color: crimson;\n  font-size: .7em;\n  margin-top: 3px;\n}\n.styles_Editext__cancel_button__259hb {\n  color: crimson;\n}\n.styles_Editext__cancel_button__259hb:before {\n  content: '\\2715';\n  margin: 3px;\n}\n.styles_Editext__edit_button__hthOZ {\n  color: #000;\n}\n.styles_Editext__edit_button__hthOZ:before {\n  content: '\\270E';\n  margin: 3px;\n}\n.styles_Editext__save_button__3WN6q {\n  color: darkgreen;\n  margin-right: 3px;\n}\n.styles_Editext__save_button__3WN6q:before {\n  content: '\\2713';\n  margin: 3px;\n}\n.styles_Editext__hide_default_icons__AV_7m:before {\n  content: none;\n  margin: 0;\n}\n.styles_Editext__hint__2QU2S {\n  font-weight: 500;\n  color: lightslategray;\n  font-size: .7em;\n  margin-top: 3px;\n  text-align: left;\n}\n");var O="view-container",N="edit-container",k="edit-button",P="save-button",S="cancel-button",j="input",U="hint",V=function(t){function i(t){var e,o,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o=this,l=r(i).call(this,t),e=!l||"object"!=typeof l&&"function"!=typeof l?u(o):l,a(u(e),"handleKeyDown",(function(t){var n=e.props,i=n.submitOnEnter,o=n.inputProps,a=n.cancelOnEscape,s=[13,"Enter"].some((function(e){return t.keyCode===e||t.code===e})),r=[27,"Escape","Esc"].some((function(e){return t.keyCode===e||t.code===e}));s&&(i&&e.handleSave(),t.preventDefault()),r&&(a&&e.handleCancel(),t.preventDefault()),o.onKeyDown&&o.onKeyDown(t)})),a(u(e),"handleOnBlur",(function(t){var n=e.props,i=n.cancelOnUnfocus,o=n.inputProps,a=e.editingButtons.current.contains(t.relatedTarget);i&&!a&&e.handleCancel(),o.onBlur&&o.onBlur(t)})),a(u(e),"handleInputChange",(function(t){e.setState({valid:!0,value:t.target.value})})),a(u(e),"handleCancel",(function(){e.setState({valid:!0,editing:!1,value:e.state.savedValue||e.props.value},(function(){return e.props.onCancel(e.state.value,e.props.inputProps)}))})),a(u(e),"handleActivateEditMode",(function(){e.setState({editing:!0},(function(){e.props.onEditingStart(e.state.value)}))})),a(u(e),"handleSave",(function(){var t=e.props,n=t.onSave,i=t.validation,o=t.onValidationFail,a=t.inputProps;if(!i(e.state.value))return e.setState({valid:!1},(function(){o&&o(e.state.value)}));e.setState({editing:!1,savedValue:e.state.value},(function(){return n(e.state.savedValue,a)}))})),a(u(e),"_renderEditingMode",(function(){var t=e.props,i=t.saveButtonClassName,o=t.saveButtonContent,a=t.cancelButtonClassName,s=t.editContainerClassName,r=t.viewContainerClassName,l=t.cancelButtonContent,u=t.onValidationFail,_=t.validationMessage,d=t.hint,v=t.hideIcons,h=t.buttonsAlign,x=e._renderInput(),O=B("".concat(c),"".concat(E),v&&"".concat(C)),k=i||O,j=B("".concat(c),"".concat(m),v&&"".concat(C)),V=a||j,D=p;s&&(D=s),r&&(D=r);var I=B(f,"before"===h&&"".concat(b),"after"===h&&"".concat(y));return n.createElement("div",null,n.createElement("div",{ref:e.editingContainer,className:D,editext:N},"after"===h&&x,n.createElement("div",{className:I,ref:e.editingButtons},n.createElement("button",{ref:e.saveButton,editext:P,type:"button",className:k,onClick:e.handleSave},o),n.createElement("button",{type:"button",editext:S,className:V,onClick:e.handleCancel},l)),"before"===h&&x),!e.state.valid&&!u&&n.createElement("div",{className:g},_),d&&n.createElement("div",{className:w,editext:U},d))})),a(u(e),"_renderViewMode",(function(){var t=e.props,i=t.viewProps,o=t.editButtonClassName,a=t.editButtonContent,r=t.viewContainerClassName,l=t.hideIcons,u=t.buttonsAlign,_=t.editOnViewClick,d=t.showButtonsOnHover,p=B("".concat(c),"".concat(x),l&&"".concat(C)),g=o||p,m=B(r||v,d&&"".concat(h)),E=B(f,"before"===u&&"".concat(b),"after"===u&&"".concat(y)),w=_?e.handleActivateEditMode:void 0;return n.createElement("div",{className:m,editext:O},"after"===u&&n.createElement("div",s({},i,{onClick:w,editext:"view"}),e.state.value),n.createElement("div",{className:E},n.createElement("button",{type:"button",editext:k,className:g,onClick:e.handleActivateEditMode},a)),"before"===u&&n.createElement("div",s({},i,{onClick:w,editext:O}),e.state.value))})),e.state={editing:t.editing,valid:!0,value:t.value||"",savedValue:""},e.saveButton=n.createRef(),e.input=n.createRef(),e.editingContainer=n.createRef(),e.editingButtons=n.createRef(),e}var V,D,I;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,e.Component),V=i,(D=[{key:"componentDidUpdate",value:function(t,e){var n={};void 0!==this.props.value&&t.value!==this.props.value&&(n.value=this.props.value),void 0!==t.editing&&t.editing!==this.props.editing&&(n.editing=this.props.editing),Object.keys(n).length>0&&this.setState(n)}},{key:"_renderInput",value:function(){return"textarea"===this.props.type?n.createElement("textarea",s({ref:this.input,className:_,editext:j},this.props.inputProps,{onBlur:this.handleOnBlur,value:this.state.value,onChange:this.handleInputChange,autoFocus:this.state.editing})):n.createElement("input",s({ref:this.input,className:_,editext:j},this.props.inputProps,{onKeyDown:this.handleKeyDown,onBlur:this.handleOnBlur,value:this.state.value,type:this.props.type,onChange:this.handleInputChange,autoFocus:this.state.editing}))}},{key:"render",value:function(){var t=this.state.editing?this._renderEditingMode():this._renderViewMode(),e=this.props,i=e.mainContainerClassName,o=e.className,a=B(i||d,o);return n.createElement("div",{className:a},t)}}])&&o(V.prototype,D),I&&o(V,I),i}();V.defaultProps={value:"",type:"text",validationMessage:"Invalid Value",validation:function(t){return!0},onEditingStart:function(t){return null},onCancel:function(t){return null},inputProps:{onKeyDown:function(t){},onBlur:function(t){}},viewProps:{},cancelButtonContent:"",saveButtonContent:"",editButtonContent:"",hideIcons:!1,buttonsAlign:"after",editing:!1},V.propTypes={inputProps:i.object,viewProps:i.object,value:i.string.isRequired,hint:i.node,validationMessage:i.node,validation:i.func,onValidationFail:i.func,type:i.oneOf(["text","textarea","password","email","number","date","datetime-local","time","month","url","week","tel"]).isRequired,onCancel:i.func,onSave:i.func.isRequired,onEditingStart:i.func,className:i.string,saveButtonClassName:i.string,editButtonClassName:i.string,cancelButtonClassName:i.string,mainContainerClassName:i.string,editContainerClassName:i.string,viewContainerClassName:i.string,cancelButtonContent:i.any,saveButtonContent:i.any,editButtonContent:i.any,hideIcons:i.bool,buttonsAlign:i.oneOf(["after","before"]),editOnViewClick:i.bool,editing:i.bool,showButtonsOnHover:i.bool,submitOnEnter:i.bool,cancelOnEscape:i.bool,cancelOnUnfocus:i.bool},module.exports=V;
//# sourceMappingURL=index.min.js.map
